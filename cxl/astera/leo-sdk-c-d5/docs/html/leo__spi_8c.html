<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Leo CXL Smart Memory Controller: leo-sdk-c/source/leo_spi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Leo CXL Smart Memory Controller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('leo__spi_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">leo_spi.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of public functions for the SDK SPI interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="DW__apb__ssi_8h_source.html">../include/DW_apb_ssi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hal_8h_source.html">../include/hal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__api__types_8h_source.html">../include/leo_api_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__globals_8h_source.html">../include/leo_globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__i2c_8h_source.html">../include/leo_i2c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__mailbox_8h_source.html">../include/leo_mailbox.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__spi_8h_source.html">../include/leo_spi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="leo__api_8h_source.html">../include/leo_api.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for leo_spi.c:</div>
<div class="dyncontent">
<div class="center"><img src="leo__spi_8c__incl.png" border="0" usemap="#aleo-sdk-c_2source_2leo__spi_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae0214f3d2f6a079f836679f88bc43fdb"><td class="memItemLeft" align="right" valign="top"><a id="ae0214f3d2f6a079f836679f88bc43fdb" name="ae0214f3d2f6a079f836679f88bc43fdb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FW_ASSIST</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ae0214f3d2f6a079f836679f88bc43fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e54695b83da41f2059f4250df44def"><td class="memItemLeft" align="right" valign="top"><a id="ad0e54695b83da41f2059f4250df44def" name="ad0e54695b83da41f2059f4250df44def"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ONE_KB</b>&#160;&#160;&#160;(1024)</td></tr>
<tr class="separator:ad0e54695b83da41f2059f4250df44def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6f4b0b74820d727dd8fba4f5efa061"><td class="memItemLeft" align="right" valign="top"><a id="aee6f4b0b74820d727dd8fba4f5efa061" name="aee6f4b0b74820d727dd8fba4f5efa061"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_ERRORS</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:aee6f4b0b74820d727dd8fba4f5efa061"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae32fcaeffad7e654a8d5d7d617628e47"><td class="memItemLeft" align="right" valign="top"><a id="ae32fcaeffad7e654a8d5d7d617628e47" name="ae32fcaeffad7e654a8d5d7d617628e47"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>flash_boot_load_init_ctrl_info_struct</b> (void)</td></tr>
<tr class="separator:ae32fcaeffad7e654a8d5d7d617628e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb1e507528900e13f78653d9898344f"><td class="memItemLeft" align="right" valign="top"><a id="acdb1e507528900e13f78653d9898344f" name="acdb1e507528900e13f78653d9898344f"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>flash_read_32</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t addr, uint32_t *data)</td></tr>
<tr class="separator:acdb1e507528900e13f78653d9898344f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b8ab711b5a3c0185fbaebf58a32e81"><td class="memItemLeft" align="right" valign="top"><a id="ab4b8ab711b5a3c0185fbaebf58a32e81" name="ab4b8ab711b5a3c0185fbaebf58a32e81"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>find_block_end</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t block_start_addr, uint32_t *block_end_addr, uint8_t *mem_data)</td></tr>
<tr class="separator:ab4b8ab711b5a3c0185fbaebf58a32e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf963b970918823868ea211c4eddd32"><td class="memItemLeft" align="right" valign="top"><a id="a0bf963b970918823868ea211c4eddd32" name="a0bf963b970918823868ea211c4eddd32"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>find_next_block</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t addr, uint32_t skip, uint32_t *next_block_addr, uint8_t *mem_data)</td></tr>
<tr class="separator:a0bf963b970918823868ea211c4eddd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2033b6a67b244e313de92e613b8d6302"><td class="memItemLeft" align="right" valign="top"><a id="a2033b6a67b244e313de92e613b8d6302" name="a2033b6a67b244e313de92e613b8d6302"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_block_size</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t addr, uint32_t *block_size, uint8_t *mem_data)</td></tr>
<tr class="separator:a2033b6a67b244e313de92e613b8d6302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4bceb29145bee0040b1537b80b40d8"><td class="memItemLeft" align="right" valign="top"><a id="a7b4bceb29145bee0040b1537b80b40d8" name="a7b4bceb29145bee0040b1537b80b40d8"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>find_block_by_type</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, BLOCKTYPE block_type, <a class="el" href="structblock__info.html">block_info_t</a> *<a class="el" href="structblock__info.html">block_info</a>, uint8_t *mem_data)</td></tr>
<tr class="separator:a7b4bceb29145bee0040b1537b80b40d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28328179ed1943d8b8af9047bf43173b"><td class="memItemLeft" align="right" valign="top"><a id="a28328179ed1943d8b8af9047bf43173b" name="a28328179ed1943d8b8af9047bf43173b"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_block_info</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t block_start_addr, <a class="el" href="structblock__info.html">block_info_t</a> *<a class="el" href="structblock__info.html">block_info</a>, uint8_t *mem_data)</td></tr>
<tr class="separator:a28328179ed1943d8b8af9047bf43173b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f24e4e3797154fa1b18b22addcd661"><td class="memItemLeft" align="right" valign="top"><a id="a19f24e4e3797154fa1b18b22addcd661" name="a19f24e4e3797154fa1b18b22addcd661"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>read_block_data</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, <a class="el" href="structblock__info.html">block_info_t</a> <a class="el" href="structblock__info.html">block_info</a>, uint32_t *block_data, uint8_t *mem_data)</td></tr>
<tr class="separator:a19f24e4e3797154fa1b18b22addcd661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af0705d1a24d00713885b205c5d6840"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a8af0705d1a24d00713885b205c5d6840">leoSpiInit</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver)</td></tr>
<tr class="memdesc:a8af0705d1a24d00713885b205c5d6840"><td class="mdescLeft">&#160;</td><td class="mdescRight">: dw apb ssi init  <br /></td></tr>
<tr class="separator:a8af0705d1a24d00713885b205c5d6840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5235ae236a0f3ddd6938092e548429d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a5235ae236a0f3ddd6938092e548429d6">dw_apb_ssi_SSIENR</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t enable)</td></tr>
<tr class="memdesc:a5235ae236a0f3ddd6938092e548429d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to enable/disable the DW APB SSI  <br /></td></tr>
<tr class="separator:a5235ae236a0f3ddd6938092e548429d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7b785d49d9ec872c4e155ef6fb38b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#abf7b785d49d9ec872c4e155ef6fb38b3">dw_apb_ssi_SER</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t enable)</td></tr>
<tr class="memdesc:abf7b785d49d9ec872c4e155ef6fb38b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to select/not select slave device by using the Slave Enable Register in DW APB SSI Valid only when DW APB SSI is configured as a master device.  <br /></td></tr>
<tr class="separator:abf7b785d49d9ec872c4e155ef6fb38b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9295236392c024299336aea54004513c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a9295236392c024299336aea54004513c">dw_apb_ssi_CTRLR0</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t CTRLR0_val)</td></tr>
<tr class="memdesc:a9295236392c024299336aea54004513c"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to control the serial data transfer Cannot write into this register while DW APB SSI is enabled Valid only when DW APB SSI is configured as a master device.  <br /></td></tr>
<tr class="separator:a9295236392c024299336aea54004513c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a312f0a56397e468f5c7dfecfafcdca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a9a312f0a56397e468f5c7dfecfafcdca">dw_apb_ssi_CTRLR1</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t CTRLR1_val)</td></tr>
<tr class="memdesc:a9a312f0a56397e468f5c7dfecfafcdca"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to control the end of serial data transfers when in Rx mode. Cannot write into this register while DW APB SSI is enabled Valid only when DW APB SSI is configured as a master device. The DW_apb_ssi continues to rx serial data until the number of data frames received is equal to this register value plus 1.  <br /></td></tr>
<tr class="separator:a9a312f0a56397e468f5c7dfecfafcdca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86be803c04c299a120984588c3f1687d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a86be803c04c299a120984588c3f1687d">dw_apb_ssi_RXFLR</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:a86be803c04c299a120984588c3f1687d"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to check Rx FIFO level register read the register to get the number of valid data entries in the Rx FIFO memory.  <br /></td></tr>
<tr class="separator:a86be803c04c299a120984588c3f1687d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc9617db34e6fad7f78da066eb4632b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#acdc9617db34e6fad7f78da066eb4632b">dw_apb_ssi_TXFLR</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:acdc9617db34e6fad7f78da066eb4632b"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to check Tx FIFO level register read the register to get the number of valid data entries in the Tx FIFO memory.  <br /></td></tr>
<tr class="separator:acdc9617db34e6fad7f78da066eb4632b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a73f35ef3c22fd0f14bb16e8e89abcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a5a73f35ef3c22fd0f14bb16e8e89abcc">dw_apb_ssi_DRx_read_16_dw</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *values)</td></tr>
<tr class="memdesc:a5a73f35ef3c22fd0f14bb16e8e89abcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read (16b) buffer from the transmit/receive FIFOs.  <br /></td></tr>
<tr class="separator:a5a73f35ef3c22fd0f14bb16e8e89abcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b960dbcbe8c5b4eb8c0be518cececef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a6b960dbcbe8c5b4eb8c0be518cececef">dw_apb_ssi_DRx_read</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:a6b960dbcbe8c5b4eb8c0be518cececef"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read buffer from the transmit/receive FIFOs.  <br /></td></tr>
<tr class="separator:a6b960dbcbe8c5b4eb8c0be518cececef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccc2948494f122b9815f97d001cf2ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#aeccc2948494f122b9815f97d001cf2ae">dw_apb_ssi_DRx</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t DRx_val)</td></tr>
<tr class="memdesc:aeccc2948494f122b9815f97d001cf2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to write buffer to the transmit/receive FIFOs.  <br /></td></tr>
<tr class="separator:aeccc2948494f122b9815f97d001cf2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c7137772ca9d858b0fecfee1cc30d6"><td class="memItemLeft" align="right" valign="top"><a id="ad4c7137772ca9d858b0fecfee1cc30d6" name="ad4c7137772ca9d858b0fecfee1cc30d6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>dw_apb_ssi_DRx_read_direct</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="separator:ad4c7137772ca9d858b0fecfee1cc30d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7a8520c7a8b9fcef07d658b01008e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a1f7a8520c7a8b9fcef07d658b01008e5">flash_read_sts_reg</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:a1f7a8520c7a8b9fcef07d658b01008e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read flash status register  <br /></td></tr>
<tr class="separator:a1f7a8520c7a8b9fcef07d658b01008e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0108db36b4e43e32ba4330361093e0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#ab0108db36b4e43e32ba4330361093e0a">leo_spi_flash_write_block_protect</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, int spi_device, uint8_t block_protect_en)</td></tr>
<tr class="memdesc:ab0108db36b4e43e32ba4330361093e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to enable/disable the flash write block protection  <br /></td></tr>
<tr class="separator:ab0108db36b4e43e32ba4330361093e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5647881f3f50ca5deb9fa445f48f789"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#ac5647881f3f50ca5deb9fa445f48f789">flash_check_write_in_prog</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:ac5647881f3f50ca5deb9fa445f48f789"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to check flash write in progress bit  <br /></td></tr>
<tr class="separator:ac5647881f3f50ca5deb9fa445f48f789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372af0fad59593b4c804444c3661bd14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a372af0fad59593b4c804444c3661bd14">flash_write_enable</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver)</td></tr>
<tr class="memdesc:a372af0fad59593b4c804444c3661bd14"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to enable flash write  <br /></td></tr>
<tr class="separator:a372af0fad59593b4c804444c3661bd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e77e453cf060aff1a88b078633365fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a1e77e453cf060aff1a88b078633365fd">flash_subsector_erase</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t addr, int spiDevice, int protect)</td></tr>
<tr class="memdesc:a1e77e453cf060aff1a88b078633365fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to erase flash subsectors (4KB)  <br /></td></tr>
<tr class="separator:a1e77e453cf060aff1a88b078633365fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b72dc90c38d603b846022138f001d8"><td class="memItemLeft" align="right" valign="top"><a id="a17b72dc90c38d603b846022138f001d8" name="a17b72dc90c38d603b846022138f001d8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>flash_block_erase</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t addr, int spiDevice, int protect)</td></tr>
<tr class="separator:a17b72dc90c38d603b846022138f001d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b82f93337b1320d4e718a8133a2fe1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a89b82f93337b1320d4e718a8133a2fe1">flash_write</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t start_addr, size_t num_words_to_write, uint32_t *word_arr)</td></tr>
<tr class="memdesc:a89b82f93337b1320d4e718a8133a2fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to write words to flash  <br /></td></tr>
<tr class="separator:a89b82f93337b1320d4e718a8133a2fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e22bdaeec9afbd43bde4be967e546a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a4e22bdaeec9afbd43bde4be967e546a8">flash_read</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t start_addr, size_t num_words_to_read, uint32_t *values)</td></tr>
<tr class="memdesc:a4e22bdaeec9afbd43bde4be967e546a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read words from flash  <br /></td></tr>
<tr class="separator:a4e22bdaeec9afbd43bde4be967e546a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a555f6d11a9ce124e546ebb876b7d29bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a555f6d11a9ce124e546ebb876b7d29bf">leo_spi_flash_bulk_erase</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver)</td></tr>
<tr class="memdesc:a555f6d11a9ce124e546ebb876b7d29bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to erase entire flash chip. The Chip-Erase instruction clears all bits in the device to ‘F’ The Chip-Erase instruction is ignored if any of the memory area is protected. Prior to any write operation, it is required to execute the <a class="el" href="leo__spi_8h.html#a372af0fad59593b4c804444c3661bd14" title="low-level code to enable flash write">flash_write_enable()</a>.  <br /></td></tr>
<tr class="separator:a555f6d11a9ce124e546ebb876b7d29bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987e5a5d3d2d6a395058d764fa224886"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a987e5a5d3d2d6a395058d764fa224886">flash_read_jedec</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *value)</td></tr>
<tr class="memdesc:a987e5a5d3d2d6a395058d764fa224886"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read the unique JEDEC ID of the flash chip  <br /></td></tr>
<tr class="separator:a987e5a5d3d2d6a395058d764fa224886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f558eae796949ed9bd0005a722791fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#a7f558eae796949ed9bd0005a722791fa">read_fw_version</a> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t *values)</td></tr>
<tr class="memdesc:a7f558eae796949ed9bd0005a722791fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-level code to read the unique version of the FW  <br /></td></tr>
<tr class="separator:a7f558eae796949ed9bd0005a722791fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8bac07a3bc6fe9f3405dde69fded111"><td class="memItemLeft" align="right" valign="top"><a id="ad8bac07a3bc6fe9f3405dde69fded111" name="ad8bac07a3bc6fe9f3405dde69fded111"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>flash_verify_block_crc</b> (<a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *leoDriver, uint32_t startAddr, size_t lenDWords, uint32_t crc)</td></tr>
<tr class="separator:ad8bac07a3bc6fe9f3405dde69fded111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec3a54ac19f3190c1885ea203635be8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="leo__spi_8c.html#acec3a54ac19f3190c1885ea203635be8">leo_spi_program_flash</a> (<a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *leoDevice, const char *filename)</td></tr>
<tr class="memdesc:acec3a54ac19f3190c1885ea203635be8"><td class="mdescLeft">&#160;</td><td class="mdescRight">program Leo SPI with the new flash memory  <br /></td></tr>
<tr class="separator:acec3a54ac19f3190c1885ea203635be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c44164a7ef3b87e7eaaaca1a6752725"><td class="memItemLeft" align="right" valign="top"><a id="a5c44164a7ef3b87e7eaaaca1a6752725" name="a5c44164a7ef3b87e7eaaaca1a6752725"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>flash_erase_range</b> (<a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *leoDevice, uint32_t mem_min, uint32_t mem_max)</td></tr>
<tr class="separator:a5c44164a7ef3b87e7eaaaca1a6752725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63cd7b2b9ee24c06ca23a0959cbf79db"><td class="memItemLeft" align="right" valign="top"><a id="a63cd7b2b9ee24c06ca23a0959cbf79db" name="a63cd7b2b9ee24c06ca23a0959cbf79db"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>leoSpiCheckCompatibility</b> (<a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *device, uint8_t *fwBuf)</td></tr>
<tr class="separator:a63cd7b2b9ee24c06ca23a0959cbf79db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8266ac22047a8799fc589217e577089b"><td class="memItemLeft" align="right" valign="top"><a id="a8266ac22047a8799fc589217e577089b" name="a8266ac22047a8799fc589217e577089b"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>leo_spi_update_target</b> (<a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *device, char *filename, int target, int verify)</td></tr>
<tr class="separator:a8266ac22047a8799fc589217e577089b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2348486f5a15fc86ae72dcd4765003eb"><td class="memItemLeft" align="right" valign="top"><a id="a2348486f5a15fc86ae72dcd4765003eb" name="a2348486f5a15fc86ae72dcd4765003eb"></a>
<a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>leo_spi_verify_crc</b> (<a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *device, char *filename)</td></tr>
<tr class="separator:a2348486f5a15fc86ae72dcd4765003eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a90268c589d521c66f52f2e0055bce2de"><td class="memItemLeft" align="right" valign="top"><a id="a90268c589d521c66f52f2e0055bce2de" name="a90268c589d521c66f52f2e0055bce2de"></a>
<a class="el" href="structflash__boot__load__ctrl__info__t.html">flash_boot_load_ctrl_info_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>g_flash_boot_load_ctrl_info</b></td></tr>
<tr class="separator:a90268c589d521c66f52f2e0055bce2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of public functions for the SDK SPI interface. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9295236392c024299336aea54004513c" name="a9295236392c024299336aea54004513c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9295236392c024299336aea54004513c">&#9670;&#160;</a></span>dw_apb_ssi_CTRLR0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_CTRLR0 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CTRLR0_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to control the serial data transfer Cannot write into this register while DW APB SSI is enabled Valid only when DW APB SSI is configured as a master device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">CTRLR0_val</td><td>SPI Frame format, Data &amp; Control Frame Size, transfer mode, Serial Clock Polarity, Serial Clock Phase. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a312f0a56397e468f5c7dfecfafcdca" name="a9a312f0a56397e468f5c7dfecfafcdca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a312f0a56397e468f5c7dfecfafcdca">&#9670;&#160;</a></span>dw_apb_ssi_CTRLR1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_CTRLR1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>CTRLR1_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to control the end of serial data transfers when in Rx mode. Cannot write into this register while DW APB SSI is enabled Valid only when DW APB SSI is configured as a master device. The DW_apb_ssi continues to rx serial data until the number of data frames received is equal to this register value plus 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">CTRLR1_val</td><td>Number of data frames in a transfer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeccc2948494f122b9815f97d001cf2ae" name="aeccc2948494f122b9815f97d001cf2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeccc2948494f122b9815f97d001cf2ae">&#9670;&#160;</a></span>dw_apb_ssi_DRx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_DRx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>DRx_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to write buffer to the transmit/receive FIFOs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value to write to the transmit/receive FIFOs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b960dbcbe8c5b4eb8c0be518cececef" name="a6b960dbcbe8c5b4eb8c0be518cececef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b960dbcbe8c5b4eb8c0be518cececef">&#9670;&#160;</a></span>dw_apb_ssi_DRx_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_DRx_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read buffer from the transmit/receive FIFOs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value read from the transmit/receive FIFOs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a73f35ef3c22fd0f14bb16e8e89abcc" name="a5a73f35ef3c22fd0f14bb16e8e89abcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a73f35ef3c22fd0f14bb16e8e89abcc">&#9670;&#160;</a></span>dw_apb_ssi_DRx_read_16_dw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_DRx_read_16_dw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read (16b) buffer from the transmit/receive FIFOs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value read (16b) from the transmit/receive FIFOs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86be803c04c299a120984588c3f1687d" name="a86be803c04c299a120984588c3f1687d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86be803c04c299a120984588c3f1687d">&#9670;&#160;</a></span>dw_apb_ssi_RXFLR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_RXFLR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to check Rx FIFO level register read the register to get the number of valid data entries in the Rx FIFO memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>number of valid data entries in the Rx FIFO memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf7b785d49d9ec872c4e155ef6fb38b3" name="abf7b785d49d9ec872c4e155ef6fb38b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf7b785d49d9ec872c4e155ef6fb38b3">&#9670;&#160;</a></span>dw_apb_ssi_SER()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_SER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to select/not select slave device by using the Slave Enable Register in DW APB SSI Valid only when DW APB SSI is configured as a master device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">enable</td><td>1 means slave is selected, 0 means no slave is selected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5235ae236a0f3ddd6938092e548429d6" name="a5235ae236a0f3ddd6938092e548429d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5235ae236a0f3ddd6938092e548429d6">&#9670;&#160;</a></span>dw_apb_ssi_SSIENR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_SSIENR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to enable/disable the DW APB SSI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">enable</td><td>1 to enable, 0 to disable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acdc9617db34e6fad7f78da066eb4632b" name="acdc9617db34e6fad7f78da066eb4632b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc9617db34e6fad7f78da066eb4632b">&#9670;&#160;</a></span>dw_apb_ssi_TXFLR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dw_apb_ssi_TXFLR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to check Tx FIFO level register read the register to get the number of valid data entries in the Tx FIFO memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>number of valid data entries in the Transmit FIFO memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5647881f3f50ca5deb9fa445f48f789" name="ac5647881f3f50ca5deb9fa445f48f789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5647881f3f50ca5deb9fa445f48f789">&#9670;&#160;</a></span>flash_check_write_in_prog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_check_write_in_prog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to check flash write in progress bit </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value determines if flash write is in progress </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e22bdaeec9afbd43bde4be967e546a8" name="a4e22bdaeec9afbd43bde4be967e546a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e22bdaeec9afbd43bde4be967e546a8">&#9670;&#160;</a></span>flash_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a> flash_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_words_to_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read words from flash </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">start_addr</td><td>start address of the flash to be read </td></tr>
    <tr><td class="paramname">num_words</td><td>number of words to be read </td></tr>
    <tr><td class="paramname">word_arr</td><td>pointer to the data to be read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LeoErrorType </dd></dl>

</div>
</div>
<a id="a987e5a5d3d2d6a395058d764fa224886" name="a987e5a5d3d2d6a395058d764fa224886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a987e5a5d3d2d6a395058d764fa224886">&#9670;&#160;</a></span>flash_read_jedec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_read_jedec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read the unique JEDEC ID of the flash chip </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value read (JEDEC ID) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f7a8520c7a8b9fcef07d658b01008e5" name="a1f7a8520c7a8b9fcef07d658b01008e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7a8520c7a8b9fcef07d658b01008e5">&#9670;&#160;</a></span>flash_read_sts_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_read_sts_reg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read flash status register </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value read from the flash status register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e77e453cf060aff1a88b078633365fd" name="a1e77e453cf060aff1a88b078633365fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e77e453cf060aff1a88b078633365fd">&#9670;&#160;</a></span>flash_subsector_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_subsector_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spiDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>protect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to erase flash subsectors (4KB) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">addr</td><td>address of the flash subsector to be erased </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89b82f93337b1320d4e718a8133a2fe1" name="a89b82f93337b1320d4e718a8133a2fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89b82f93337b1320d4e718a8133a2fe1">&#9670;&#160;</a></span>flash_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a> flash_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_words_to_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>word_arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to write words to flash </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">start_addr</td><td>start address of the flash to be written </td></tr>
    <tr><td class="paramname">num_words</td><td>number of words to be written </td></tr>
    <tr><td class="paramname">word_arr</td><td>pointer to the data to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LeoErrorType </dd></dl>

</div>
</div>
<a id="a372af0fad59593b4c804444c3661bd14" name="a372af0fad59593b4c804444c3661bd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372af0fad59593b4c804444c3661bd14">&#9670;&#160;</a></span>flash_write_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_write_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to enable flash write </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a555f6d11a9ce124e546ebb876b7d29bf" name="a555f6d11a9ce124e546ebb876b7d29bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a555f6d11a9ce124e546ebb876b7d29bf">&#9670;&#160;</a></span>leo_spi_flash_bulk_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void leo_spi_flash_bulk_erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to erase entire flash chip. The Chip-Erase instruction clears all bits in the device to ‘F’ The Chip-Erase instruction is ignored if any of the memory area is protected. Prior to any write operation, it is required to execute the <a class="el" href="leo__spi_8h.html#a372af0fad59593b4c804444c3661bd14" title="low-level code to enable flash write">flash_write_enable()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab0108db36b4e43e32ba4330361093e0a" name="ab0108db36b4e43e32ba4330361093e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0108db36b4e43e32ba4330361093e0a">&#9670;&#160;</a></span>leo_spi_flash_write_block_protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void leo_spi_flash_write_block_protect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spi_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>block_protect_en</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to enable/disable the flash write block protection </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">spi_device</td><td>type of spi device - some don't support write block protect command </td></tr>
    <tr><td class="paramname">value</td><td>1 to enable, 0 to disable </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acec3a54ac19f3190c1885ea203635be8" name="acec3a54ac19f3190c1885ea203635be8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec3a54ac19f3190c1885ea203635be8">&#9670;&#160;</a></span>leo_spi_program_flash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="leo__error_8h.html#a2f7909bc4b30a2692fc751e1d45dd1d1">LeoErrorType</a> leo_spi_program_flash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#ab3871e3352cab46331ebcfd4026dad31">LeoDeviceType</a> *&#160;</td>
          <td class="paramname"><em>leoDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>program Leo SPI with the new flash memory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leoDevice</td><td>pointer to the device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flashFileName</td><td>filepath name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">persistentDataBuf</td><td>data to be written into persistent data block </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8af0705d1a24d00713885b205c5d6840" name="a8af0705d1a24d00713885b205c5d6840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af0705d1a24d00713885b205c5d6840">&#9670;&#160;</a></span>leoSpiInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void leoSpiInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: dw apb ssi init </p>
<p>Low-level code to initialize the DW APB. </p>

</div>
</div>
<a id="a7f558eae796949ed9bd0005a722791fa" name="a7f558eae796949ed9bd0005a722791fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f558eae796949ed9bd0005a722791fa">&#9670;&#160;</a></span>read_fw_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_fw_version </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="leo__api__types_8h.html#a0e1807c16a7c4406767cc816f126d753">LeoI2CDriverType</a> *&#160;</td>
          <td class="paramname"><em>leoDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low-level code to read the unique version of the FW </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leoDriver</td><td>pointer to the Leo driver </td></tr>
    <tr><td class="paramname">value</td><td>value read (FW version) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d42a07b2115f6ca15f9c9983df0e71e7.html">leo-sdk-c</a></li><li class="navelem"><a class="el" href="dir_2479eddd4777f790b439b40c905613ec.html">source</a></li><li class="navelem"><a class="el" href="leo__spi_8c.html">leo_spi.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
